syms x;

X = [1, 1.1, 1.2, 1.3, 1.4, 1.5];
Y = [-0.71634, -0.62202, -0.53148, -0.44563, -0.36531, -0.29133];

H = X(2) - X(1);

D1 = [Y(2) - Y(1), Y(3) - Y(2), Y(4) - Y(3), Y(5) - Y(4), Y(6) - Y(5)];
D2 = [D1(2) - D1(1), D1(3) - D1(2), D1(4) - D1(3), D1(5) - D1(4)];
D3 = [D2(2) - D2(1), D2(3) - D2(2), D2(4) - D2(3)];
D4 = [D3(2) - D3(1), D3(3) - D3(2)];
D5 = [D4(2) - D4(1)];

P = Y(1) + D1(1) .* (x - X(1)) + D2(1) .* (x - X(1)) .* (x - X(2)) + D3(1) .* (x - X(1)) .* (x - X(2)) .* (x - X(3)) + D4(1) .* (x - X(1)) .* (x - X(2)) .* (x - X(3)) .* (x - X(4)) + D5(1) .* (x - X(1)) .* (x - X(2)) .* (x - X(3)) .* (x - X(4)) .* (x - X(5));

vpa(collect(P));

dP = diff(P);
ddP = diff(dP);
vpa(subs(dP, 1.3),3)
vpa(subs(ddP, 1.2),3)

F = vpa(collect(P), 3)

subs(F, X(1))


